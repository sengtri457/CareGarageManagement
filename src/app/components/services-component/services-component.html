<div class="d-flex justify-content-between mb-2">
    <h3>Services</h3>
    <button class="btn btn-primary" (click)="openNew()">New Service</button>
</div>
<table class="table table-striped table-hover">
    <thead>
        <tr>
            <th>Name</th>
            <th>Category</th>
            <th>Price</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let s of services">
            <td>{{s.name}}</td>
            <td>{{categoriesMap[s.categoryId]}}</td>
            <td>{{s.price | currency}}</td>
            <td>
                <button class="btn btn-sm btn-primary me-1" (click)="edit(s)">Edit</button>
                <button class="btn btn-sm btn-danger" (click)="remove(s)">Delete</button>
            </td>
        </tr>
    </tbody>
</table>


<div *ngIf="form" class="card p-3 mt-3">
    <h5>{{form.id ? 'Edit' : 'New'}} Service</h5>
    <form (submit)="save($event)">
        <input class="form-control mb-2" placeholder="Name" [(ngModel)]="form.name" name="name" />
        <select class="form-select mb-2" [(ngModel)]="form.categoryId" name="categoryId">
            <option *ngFor="let c of categories" [value]="c.id">{{c.name}}</option>
        </select>
        <input class="form-control mb-2" placeholder="Price" type="number" [(ngModel)]="form.price" name="price" />
        <div class="d-flex justify-content-end gap-2">
            <button class="btn btn-secondary" type="button" (click)="cancel()">Cancel</button>
            <button class="btn btn-success" type="submit">Save</button>
        </div>
    </form>
</div>