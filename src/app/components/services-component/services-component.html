<div class="d-flex justify-content-between align-items-center mb-3">
    <h4 class="mb-0">Services</h4>
    <div class="toolbar">
        <p>Total: {{total}}</p>

        <!-- <input  placeholder="Search..." /> -->
    </div>
</div>
<div class="d-flex justify-content-between align-items-center mb-3">
    <button type="button" class="button" (click)="openNew()">
        <span class="button__text">New Services</span>
        <span class="button__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" viewBox="0 0 24 24"
                stroke-width="2" stroke-linejoin="round" stroke-linecap="round" stroke="currentColor" height="24"
                fill="none" class="svg">
                <line y2="19" y1="5" x2="12" x1="12"></line>
                <line y2="12" y1="12" x2="19" x1="5"></line>
            </svg></span>
    </button>
    <!-- <button class="btn btn-primary" (click)="openNew()">New Customer</button> -->
    <div class="input-container">
        <input type="text" [(ngModel)]="q" (input)="onSearch()" name="text" class="input" placeholder="search...">
        <span class="icon">
            <svg width="19px" height="19px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                    <path opacity="1" d="M14 5H20" stroke="#000" stroke-width="1.5" stroke-linecap="round"
                        stroke-linejoin="round"></path>
                    <path opacity="1" d="M14 8H17" stroke="#000" stroke-width="1.5" stroke-linecap="round"
                        stroke-linejoin="round"></path>
                    <path d="M21 11.5C21 16.75 16.75 21 11.5 21C6.25 21 2 16.75 2 11.5C2 6.25 6.25 2 11.5 2"
                        stroke="#000" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"></path>
                    <path opacity="1" d="M22 22L20 20" stroke="#000" stroke-width="3.5" stroke-linecap="round"
                        stroke-linejoin="round"></path>
                </g>
            </svg>
        </span>
    </div>
</div>
<div class="container-fluid-1" *ngIf="form">
    <div class="tools p-3 align-items-center">
        <div class="wrapper-colors">
            <div class="circle">
                <span class="red box"></span>
            </div>
            <div class="circle">
                <span class="yellow box"></span>
            </div>
            <div class="circle">
                <span class="green box"></span>
            </div>
        </div>
        <h5 class="text-white m-0 p-0">{{ form._id ? 'Edit' : 'New' }} Services</h5>
    </div>
    <div class="card p-3   mb-4">
        <h5>{{form.id ? 'Edit' : 'New'}} Service</h5>
        <form (submit)="save($event)">
            <div class="row g-2">
                <div class="col-6">

                    <input class="form-control mb-2" placeholder="Name" [(ngModel)]="form.name" name="name" />
                </div>
                <div class="col-6">

                    <input class="form-control mb-2" placeholder="Code" [(ngModel)]="form.code" name="Code" />
                </div>
                <div class="col-6">

                    <select class="form-select mb-2" [(ngModel)]="form.categoryId" name="categoryId">
                        <option *ngFor="let c of categories" [value]="c._id">{{c.name}}</option>
                    </select>
                </div>
                <div class="col-6">

                    <input class="form-control mb-2" placeholder="Price" type="number" [(ngModel)]="form.basePrice"
                        name="price" />
                </div>
            </div>
            <div class="d-flex justify-content-end gap-2">
                <button class="btn btn-secondary" type="button" (click)="cancel()">Cancel</button>
                <button class="btn btn-success" type="submit">Save</button>
            </div>
        </form>
    </div>
</div>
<table class="table table-bordered table-striped table-hover">
    <thead class="table-dark">
        <tr>
            <th>Name</th>
            <th>Category</th>
            <th>Price</th>
            <th>Code</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let s of services">
            <td>{{s.name}}</td>
            <td>{{categoriesMap[s.categoryId]}}</td>
            <td>{{s.basePrice | currency}}</td>
            <td>{{s.code}}</td>
            <td>
                <button class="btn btn-sm btn-outline-warning me-1" (click)="edit(s)"><i
                        class="bi bi-pencil"></i>Edit</button>
                <button class="btn btn-sm btn-outline-danger" (click)="remove(s)"><i
                        class="bi bi-trash"></i>Delete</button>
            </td>
        </tr>
    </tbody>
</table>